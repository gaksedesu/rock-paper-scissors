<!DOCTYPE html>
<html>
<head>
  <title>Rock Paper Scissors game</title>
  <meta charset="UTF-8"/>
</head>
<body>
  <script>
    // Your JavaScript goes here!
    console.log("Hello, World!");

    function computerPlay() {
        let computerChoice = integerRandom( 1, 3);
        if (computerChoice == 1) {
            return 'paper';
        } else if (computerChoice == 2) {
            return 'scissors';
        } else {
            return 'rock';
        };
    };

    function integerRandom(lower, upper) {
        return Math.floor(Math.random()*(upper - lower + 1)) + 1;
    };

    function singleRound( playerSelection, computerSelection) {
      playerSelection == playerSelection.toLowerCase();

      if (playerSelection == computerSelection) {
        return "It's a draw";
      } else if ((playerSelection == 'rock' && computerSelection == 'scissors') || (playerSelection == 'paper' && computerSelection == 'rock') || (playerSelection == 'scissors' && computerSelection == 'paper')) {
        return 'You win! ' + playerSelection + ' beats ' + computerSelection + '.';
      } else {
        return 'You lose! ' + computerSelection + ' beats ' + playerSelection + '.';
      };
    };

    function checkPlayerSelection() {
      let playerInput = window.prompt('Write your choice: rock, paper or scissors', 'rock');
      if ((playerInput.toLowerCase() == 'rock') || 
      (playerInput.toLowerCase() == 'paper') || (playerInput.toLowerCase() == 'scissors')) {
        return playerInput;
      } else {
        return window.prompt('Write your choice again plaese: rock, paper or scissors', 'rock');        
      }
    };

    function game() {
      let points = 0;
      let playerSelection;
      let computerSelection;
      let result;
      let totalPointsgiven = 0;

      while (totalPointsgiven <= 5 && points < 3) {
      playerSelection = checkPlayerSelection();
      computerSelection = computerPlay();
      result = singleRound( playerSelection, computerSelection);
      console.log(result);
      if (result[4] == 'w') {
        points = points + 1;
        console.log('The score is: ' + points + '/5.');
      } else {
        console.log('The score is: ' + points + '/5.');
      };
      if (result != "It's a draw") {
        totalPointsgiven += 1;
      };
      };

      if (points >= 3) {
        console.log ('Well done, you won!');
      } else {
        console.log( 'You lost, try again if you want.');
      }
    };

  </script>
</body>
</html>